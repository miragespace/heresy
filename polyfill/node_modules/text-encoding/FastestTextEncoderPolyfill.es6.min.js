!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).TextEncoder=factory()}(this,(function(){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};return function(window){var globalTextEncoderPrototype,globalTextEncoderInstance,fromCharCode=String.fromCharCode,patchedU8Array=window.Uint8Array||Array,TextEncoderPrototype=TextEncoder.prototype,GlobalTextEncoder=window.TextEncoder;function encoderReplacer(nonAsciiChars){var point=0|nonAsciiChars.charCodeAt(0);if(55296<=point)if(point<56320){var nextcode=0|nonAsciiChars.charCodeAt(1);if(56320<=nextcode&&nextcode<=57343){if((point=(point<<10)+nextcode-56613888|0)>65535)return fromCharCode(240|point>>>18,128|point>>>12&63,128|point>>>6&63,128|63&point)}else point=65533}else point<=57343&&(point=65533);return point<=2047?fromCharCode(192|point>>>6,128|63&point):fromCharCode(224|point>>>12,128|point>>>6&63,128|63&point)}function TextEncoder(){}function polyfill_encodeInto(inputString,u8Arr){var encodedString=void 0===inputString?"":(""+inputString).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,encoderReplacer),len=0|encodedString.length,i=0,char=0,read=0,u8ArrLen=0|u8Arr.length,inputLength=0|inputString.length;u8ArrLen<len&&(len=u8ArrLen);putChars:for(;i<len;i=i+1|0){switch((char=0|encodedString.charCodeAt(i))>>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:read=read+1|0;case 8:case 9:case 10:case 11:break;case 12:case 13:if((i+1|0)<u8ArrLen){read=read+1|0;break}case 14:if((i+2|0)<u8ArrLen){read=read+1|0;break}case 15:if((i+3|0)<u8ArrLen){read=read+1|0;break}default:break putChars}u8Arr[i]=char}return{written:i,read:inputLength<read?inputLength:read}}TextEncoderPrototype.encode=function(inputString){for(var encodedString=void 0===inputString?"":(""+inputString).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,encoderReplacer),len=0|encodedString.length,result=new patchedU8Array(len),i=0;i<len;i=i+1|0)result[i]=0|encodedString.charCodeAt(i);return result},TextEncoderPrototype.encodeInto=polyfill_encodeInto,GlobalTextEncoder?(globalTextEncoderPrototype=GlobalTextEncoder.prototype).encodeInto||(globalTextEncoderInstance=new GlobalTextEncoder,globalTextEncoderPrototype.encodeInto=function(string,u8arr){var strLen=0|string.length,u8Len=0|u8arr.length;if(strLen<(3+(u8Len>>1)|0)){var res8=globalTextEncoderInstance.encode(string);if((0|res8.length)<u8Len)return u8arr.set(res8),{read:strLen,written:0|res8.length}}return polyfill_encodeInto(string,u8arr)}):window.TextEncoder=TextEncoder}(typeof commonjsGlobal==""+void 0?typeof self==""+void 0?commonjsGlobal:self:commonjsGlobal),{}}));
//# sourceMappingURL=FastestTextEncoderPolyfill.es6.min.js.map
