!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";async function e(e){const t=[],r=e.getReader();const s=await async function e(){const{done:s,value:i}=await r.read();return s?t.reduce(((e,t)=>[...e,...t]),[]):(t.push(i),e())}();return new Uint8Array(s)}function t(e){return(new TextDecoder).decode(e)}const r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0;function s(e){if("string"!=typeof e&&(e=String(e)),0===(e=e.trim()).length)throw new TypeError("Header field name is empty");if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e))throw new TypeError(`Invalid character in header field name: ${e}`);return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}class n{constructor(e){if(this.map=new Map,e instanceof n)return e.forEach(((e,t)=>{this.append(t,e)})),this;if(Array.isArray(e))return e.forEach((([e,t])=>{this.append(e,t)})),this;if(e)for(const t in e)this.append(t,e[t])}append(e,t){e=s(e),t=i(t);const r=this.get(e);this.map.set(e,r?r+", "+t:t)}delete(e){this.map.delete(s(e))}get(e){var t;return e=s(e),null!==(t=this.map.get(e))&&void 0!==t?t:null}has(e){return this.map.has(s(e))}set(e,t){this.map.set(s(e),i(t))}forEach(e,t){this.map.forEach(((r,s)=>{e.call(t,r,s,this)}),this)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.entries()}}class a{constructor(e){return this.bodyInit=e,e instanceof URLSearchParams?(this._bodyText=this.bodyInit=e.toString(),this._mimeType="application/x-www-form-urlencoded;charset=UTF-8",this):e instanceof ArrayBuffer?(this._bodyArrayBuffer=e.slice(0),this._mimeType="application/octet-stream",this):ArrayBuffer.isView(e)?(this._bodyArrayBuffer=e.buffer,this._mimeType="application/octet-stream",this):e instanceof ReadableStream?(this._bodyReadableStream=e,this._mimeType="application/octet-stream",this):void(e&&(this._bodyText=e.toString(),this._mimeType="text/plain;charset=UTF-8"))}__consumed(){if(this._consumed)return Promise.reject(new TypeError("Already read"));this._consumed=!0}async arrayBuffer(){const t=this.__consumed();if(t)return t;if(this._bodyReadableStream){return(await e(this._bodyReadableStream)).buffer}if(this._bodyArrayBuffer){if(ArrayBuffer.isView(this._bodyArrayBuffer)){const{buffer:e,byteOffset:t,byteLength:r}=this._bodyArrayBuffer;return Promise.resolve(e.slice(t,t+r))}return Promise.resolve(this._bodyArrayBuffer)}const r=this._bodyText;return(new TextEncoder).encode(r)}async text(){const r=this.__consumed();if(r)return r;if(this._bodyReadableStream){return t(await e(this._bodyReadableStream))}return this._bodyArrayBuffer?t(this._bodyArrayBuffer):this._bodyText}async json(){const e=await this.text();return JSON.parse(e)}get body(){if(this._bodyReadableStream)return this._bodyReadableStream;if(this._bodyArrayBuffer){const e=new Uint8Array(this._bodyArrayBuffer);return new ReadableStream({start(t){e.forEach((e=>{t.enqueue(e)})),t.close()}})}if(this._bodyText){const e=this._bodyText,t=new TextEncoder;return new ReadableStream({start:async r=>{new Uint8Array(t.encode(e)).forEach((e=>{r.enqueue(e)})),r.close()}})}return null}get bodyUsed(){return this._consumed}}class o extends a{constructor(e,t){var r,s,i;if(e instanceof o){if(e.bodyInit&&e.bodyUsed)throw new TypeError("Already read");super(e.body),this.url=e.url,this.method=e.method,this.headers=new n(null!==(r=t.headers)&&void 0!==r?r:e.headers),e.bodyInit&&(e._consumed=!0)}else{if(t instanceof o){if(t.bodyInit&&t.bodyUsed)throw new TypeError("Already read");super(t.body),t.bodyInit&&(t._consumed=!0)}else super(null!==(s=t.body)&&void 0!==s?s:null);this.url=e,this.method=t.method||"GET",this.headers=null!==(i=this.headers)&&void 0!==i?i:new n(t.headers)}if(this.bodyInit&&["GET","HEAD"].includes(this.method))throw new TypeError("Body not allowed for GET or HEAD requests");this.bodyInit&&!this.headers.has("content-type")&&this._mimeType&&this.headers.set("content-type",this._mimeType)}clone(){return new o(this,{body:this.bodyInit})}}class d extends a{constructor(e,t){var r,s;super(e),this.status=null!==(r=t.status)&&void 0!==r?r:200,this.ok=this.status>=200&&this.status<300,this.statusText=null!==(s=t.statusText)&&void 0!==s?s:"",this.headers=new n(t.headers),this.url=t instanceof d?t.url:"",!this.headers.has("content-type")&&this._mimeType&&this.headers.set("content-type",this._mimeType)}clone(){return new d(this.bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})}static redirect(e,t){if(![301,302,303,307,308].includes(t))throw new RangeError(`Invalid status code: ${t}`);return new d(null,{status:t,headers:{location:e}})}}const h={Headers:n,Request:o,Response:d};if(void 0!==r)for(const e in h)Object.prototype.hasOwnProperty.call(h,e)&&Object.defineProperty(r,e,{value:h[e],writable:!0,configurable:!0})}));
//# sourceMappingURL=polyfill.es6.min.js.map
