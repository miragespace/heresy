!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0;function t(e){if("string"!=typeof e&&(e=String(e)),0===(e=e.trim()).length)throw new TypeError("Header field name is empty");if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e))throw new TypeError(`Invalid character in header field name: ${e}`);return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}class s{constructor(e){return this.map=new Map,e instanceof s?(e.forEach(((e,t)=>{this.append(t,e)})),this):Array.isArray(e)?(e.forEach((([e,t])=>{this.append(e,t)})),this):void Object.getOwnPropertyNames(e).forEach((t=>this.append(t,e[t])))}append(e,s){e=t(e),s=r(s);const i=this.get(e);this.map.set(e,i?i+", "+s:s)}delete(e){this.map.delete(t(e))}get(e){var r;return e=t(e),null!==(r=this.map.get(e))&&void 0!==r?r:null}has(e){return this.map.has(t(e))}set(e,s){this.map.set(t(e),r(s))}forEach(e,t){this.map.forEach(((r,s)=>{e.call(t,r,s,this)}),this)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.entries()}}function i(e,t,r,s){return new(r||(r=Promise))((function(i,n){function o(e){try{a(s.next(e))}catch(e){n(e)}}function d(e){try{a(s.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,d)}a((s=s.apply(e,t||[])).next())}))}function n(e){return i(this,void 0,void 0,(function*(){const t=[],r=e.getReader();const s=yield function e(){return i(this,void 0,void 0,(function*(){const{done:s,value:i}=yield r.read();return s?t.reduce(((e,t)=>[...e,...t]),[]):(t.push(i),e())}))}();return new Uint8Array(s)}))}function o(e){return(new TextDecoder).decode(e)}class d{constructor(e){return this.bodyUsed=!1,this.bodyInit=e,e instanceof URLSearchParams?(this._bodyText=this.bodyInit=e.toString(),this._mimeType="application/x-www-form-urlencoded;charset=UTF-8",this):e instanceof ArrayBuffer?(this._bodyArrayBuffer=e.slice(0),this._mimeType="application/octet-stream",this):ArrayBuffer.isView(e)?(this._bodyArrayBuffer=e.buffer,this._mimeType="application/octet-stream",this):e instanceof ReadableStream?(this._bodyReadableStream=e,this._mimeType="application/octet-stream",this):void(e&&(this._bodyText=e.toString(),this._mimeType="text/plain;charset=UTF-8"))}__consumed(){if(this.bodyUsed)return Promise.reject(new TypeError("Already read"));this.bodyUsed=!0}arrayBuffer(){return i(this,void 0,void 0,(function*(){const e=this.__consumed();if(e)return e;if(this._bodyReadableStream){return(yield n(this._bodyReadableStream)).buffer}if(this._bodyArrayBuffer){if(ArrayBuffer.isView(this._bodyArrayBuffer)){const{buffer:e,byteOffset:t,byteLength:r}=this._bodyArrayBuffer;return Promise.resolve(e.slice(t,t+r))}return Promise.resolve(this._bodyArrayBuffer)}const t=this._bodyText;return(new TextEncoder).encode(t)}))}text(){return i(this,void 0,void 0,(function*(){const e=this.__consumed();if(e)return e;if(this._bodyReadableStream){return o(yield n(this._bodyReadableStream))}return this._bodyArrayBuffer?o(this._bodyArrayBuffer):this._bodyText}))}json(){return i(this,void 0,void 0,(function*(){const e=yield this.text();return JSON.parse(e)}))}get body(){if(this._bodyReadableStream)return this._bodyReadableStream;if(this._bodyArrayBuffer){const e=new Uint8Array(this._bodyArrayBuffer);return new ReadableStream({start(t){e.forEach((e=>{t.enqueue(e)})),t.close()}})}if(this._bodyText){const e=this._bodyText,t=new TextEncoder;return new ReadableStream({start:r=>i(this,void 0,void 0,(function*(){new Uint8Array(t.encode(e)).forEach((e=>{r.enqueue(e)})),r.close()}))})}return null}}class a{constructor(e,t){var r,i,n,o;if(e instanceof a){if(e.body&&e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.method=e.method,this.headers=new s(null!==(r=t.headers)&&void 0!==r?r:e.headers),!t.body&&e._body.bodyInit&&(this._body=new d(e._body.bodyInit),e._body.bodyUsed=!0)}else this.url=e;if(!this._body&&t.body&&(this._body=null!==(i=this._body)&&void 0!==i?i:new d(t.body)),this.method=null!==(n=t.method)&&void 0!==n?n:"GET",this._body.bodyInit&&["GET","HEAD"].includes(this.method))throw new TypeError("Body not allowed for GET or HEAD requests");this.headers=null!==(o=this.headers)&&void 0!==o?o:new s(t.headers),!this.headers.has("content-type")&&this._body._mimeType&&this.headers.set("content-type",this._body._mimeType)}get body(){return this._body.body}get bodyUsed(){return this._body.bodyUsed}clone(){return new a(this,{body:this._body.bodyInit})}arrayBuffer(){return this._body.arrayBuffer()}text(){return this._body.text()}json(){return this._body.json()}}class h{constructor(e,t){var r,i;this.status=null!==(r=t.status)&&void 0!==r?r:200,this.ok=this.status>=200&&this.status<300,this.statusText=null!==(i=t.statusText)&&void 0!==i?i:"",this.headers=new s(t.headers),e&&(this._body=new d(e)),this.url=t instanceof h?t.url:"",!this.headers.has("content-type")&&this._body._mimeType&&this.headers.set("content-type",this._body._mimeType)}get bodyUsed(){return this._body.bodyUsed}clone(){return new h(this._body.bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})}arrayBuffer(){return this._body.arrayBuffer()}text(){return this._body.text()}json(){return this._body.json()}get body(){return this._body.body}static redirect(e,t){if(![301,302,303,307,308].includes(t))throw new RangeError(`Invalid status code: ${t}`);return new h(null,{status:t,headers:{location:e}})}}const u={Headers:s,Request:a,Response:h};if(void 0!==e)for(const t in u)Object.prototype.hasOwnProperty.call(u,t)&&Object.defineProperty(e,t,{value:u[t],writable:!0,configurable:!0})}));
//# sourceMappingURL=polyfill.es6.min.js.map
