!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t,r,i){return new(r||(r=Promise))((function(s,n){function o(e){try{d(i.next(e))}catch(e){n(e)}}function a(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))}function t(t){return e(this,void 0,void 0,(function*(){const r=[],i=t.getReader();const s=yield function t(){return e(this,void 0,void 0,(function*(){const{done:e,value:s}=yield i.read();return e?r.reduce(((e,t)=>[...e,...t]),[]):(r.push(s),t())}))}();return new Uint8Array(s)}))}function r(e){return(new TextDecoder).decode(e)}const i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0;function s(e){if("string"!=typeof e&&(e=String(e)),0===(e=e.trim()).length)throw new TypeError("Header field name is empty");if(/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e))throw new TypeError(`Invalid character in header field name: ${e}`);return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}class o{constructor(e){if(this.map=new Map,e instanceof o)return e.forEach(((e,t)=>{this.append(t,e)})),this;if(Array.isArray(e))return e.forEach((([e,t])=>{this.append(e,t)})),this;if(e)for(const t in e)this.append(t,e[t])}append(e,t){e=s(e),t=n(t);const r=this.get(e);this.map.set(e,r?r+", "+t:t)}delete(e){this.map.delete(s(e))}get(e){var t;return e=s(e),null!==(t=this.map.get(e))&&void 0!==t?t:null}has(e){return this.map.has(s(e))}set(e,t){this.map.set(s(e),n(t))}forEach(e,t){this.map.forEach(((r,i)=>{e.call(t,r,i,this)}),this)}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.entries()}}class a{constructor(e){return this.bodyInit=e,e instanceof URLSearchParams?(this._bodyText=this.bodyInit=e.toString(),this._mimeType="application/x-www-form-urlencoded;charset=UTF-8",this):e instanceof ArrayBuffer?(this._bodyArrayBuffer=e.slice(0),this._mimeType="application/octet-stream",this):ArrayBuffer.isView(e)?(this._bodyArrayBuffer=e.buffer,this._mimeType="application/octet-stream",this):e instanceof ReadableStream?(this._bodyReadableStream=e,this._mimeType="application/octet-stream",this):void(e&&(this._bodyText=e.toString(),this._mimeType="text/plain;charset=UTF-8"))}__consumed(){if(this._consumed)return Promise.reject(new TypeError("Already read"));this._consumed=!0}arrayBuffer(){return e(this,void 0,void 0,(function*(){const e=this.__consumed();if(e)return e;if(this._bodyReadableStream){return(yield t(this._bodyReadableStream)).buffer}if(this._bodyArrayBuffer){if(ArrayBuffer.isView(this._bodyArrayBuffer)){const{buffer:e,byteOffset:t,byteLength:r}=this._bodyArrayBuffer;return Promise.resolve(e.slice(t,t+r))}return Promise.resolve(this._bodyArrayBuffer)}const r=this._bodyText;return(new TextEncoder).encode(r)}))}text(){return e(this,void 0,void 0,(function*(){const e=this.__consumed();if(e)return e;if(this._bodyReadableStream){return r(yield t(this._bodyReadableStream))}return this._bodyArrayBuffer?r(this._bodyArrayBuffer):this._bodyText}))}json(){return e(this,void 0,void 0,(function*(){const e=yield this.text();return JSON.parse(e)}))}get body(){if(this._bodyReadableStream)return this._bodyReadableStream;if(this._bodyArrayBuffer){const e=new Uint8Array(this._bodyArrayBuffer);return new ReadableStream({start(t){e.forEach((e=>{t.enqueue(e)})),t.close()}})}if(this._bodyText){const t=this._bodyText,r=new TextEncoder;return new ReadableStream({start:i=>e(this,void 0,void 0,(function*(){new Uint8Array(r.encode(t)).forEach((e=>{i.enqueue(e)})),i.close()}))})}return null}get bodyUsed(){return this._consumed}}class d extends a{constructor(e,t){var r,i,s;if(e instanceof d){if(e.bodyInit&&e.bodyUsed)throw new TypeError("Already read");super(e.body),this.url=e.url,this.method=e.method,this.headers=new o(null!==(r=t.headers)&&void 0!==r?r:e.headers),e.bodyInit&&(e._consumed=!0)}else{if(t instanceof d){if(t.bodyInit&&t.bodyUsed)throw new TypeError("Already read");super(t.body),t.bodyInit&&(t._consumed=!0)}else super(null!==(i=t.body)&&void 0!==i?i:null);this.url=e,this.method=t.method||"GET",this.headers=null!==(s=this.headers)&&void 0!==s?s:new o(t.headers)}if(this.bodyInit&&["GET","HEAD"].includes(this.method))throw new TypeError("Body not allowed for GET or HEAD requests");this.bodyInit&&!this.headers.has("content-type")&&this._mimeType&&this.headers.set("content-type",this._mimeType)}clone(){return new d(this,{body:this.bodyInit})}}class h extends a{constructor(e,t){var r,i;super(e),this.status=null!==(r=t.status)&&void 0!==r?r:200,this.ok=this.status>=200&&this.status<300,this.statusText=null!==(i=t.statusText)&&void 0!==i?i:"",this.headers=new o(t.headers),this.url=t instanceof h?t.url:"",!this.headers.has("content-type")&&this._mimeType&&this.headers.set("content-type",this._mimeType)}clone(){return new h(this.bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})}static redirect(e,t){if(![301,302,303,307,308].includes(t))throw new RangeError(`Invalid status code: ${t}`);return new h(null,{status:t,headers:{location:e}})}}const u={Headers:o,Request:d,Response:h};if(void 0!==i)for(const e in u)Object.prototype.hasOwnProperty.call(u,e)&&Object.defineProperty(i,e,{value:u[e],writable:!0,configurable:!0})}));
//# sourceMappingURL=polyfill.es6.min.js.map
